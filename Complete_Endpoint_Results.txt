# 🚀 PARKING API ENDPOINT TEST RESULTATEN
========================================================
Test Datum: 2025-09-10
Total Endpoints Getest: 37
Server URL: http://localhost:8000
========================================================

## 📊 SAMENVATTING VAN ALLE ENDPOINTS MET BERICHTEN

### 🔐 AUTHENTICATION ENDPOINTS
┌──────────────────────────────────────────────────────────────────┐
│ POST /register                                                   │
│ ✅ Status: 201 Created                                           │
│ 💬 Message: "User created successfully"                          │
│ 📝 Beschrijving: Registreer nieuwe gebruiker                    │
└──────────────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────────────┐
│ POST /login                                                      │
│ ✅ Status: 200 OK                                               │
│ 💬 Message: "User logged in"                                    │
│ 🔑 Response: Geeft session_token terug                          │
│ 📝 Beschrijving: Inloggen en token verkrijgen                   │
└──────────────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────────────┐
│ POST /login (Fout)                                              │
│ ❌ Status: 401 Unauthorized                                     │
│ 💬 Error: "Invalid credentials"                                 │
│ 📝 Beschrijving: Foutmelding bij verkeerde inloggegevens        │
└──────────────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────────────┐
│ GET /logout                                                      │
│ ✅ Status: 200 OK                                               │
│ 💬 Message: Uitloggen succesvol                                 │
│ 📝 Beschrijving: Uitloggen en sessie beëindigen                 │
└──────────────────────────────────────────────────────────────────┘

### 👤 PROFILE ENDPOINTS
┌──────────────────────────────────────────────────────────────────┐
│ GET /profile                                                     │
│ ✅ Status: 200 OK                                               │
│ 💬 Response: Gebruikersprofiel gegevens                         │
│ 🔒 Vereist: Authorization token                                 │
│ 📝 Beschrijving: Haal gebruikersprofiel op                      │
└──────────────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────────────┐
│ PUT /profile                                                     │
│ ✅ Status: 200 OK                                               │
│ 💬 Message: Profiel bijgewerkt                                  │
│ 🔒 Vereist: Authorization token                                 │
│ 📝 Beschrijving: Update gebruikersprofiel                       │
└──────────────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────────────┐
│ GET /profile (Zonder token)                                     │
│ ❌ Status: 401 Unauthorized                                     │
│ 💬 Error: "Unauthorized: Invalid or missing session token"     │
│ 📝 Beschrijving: Toegang geweigerd zonder authenticatie         │
└──────────────────────────────────────────────────────────────────┘

### 🅿️ PARKING LOTS ENDPOINTS
┌──────────────────────────────────────────────────────────────────┐
│ GET /parking-lots/                                              │
│ ✅ Status: 200 OK                                               │
│ 💬 Response: Lijst van alle parking lots                        │
│ 🌐 Toegang: Publiek (geen token vereist)                        │
│ 📝 Beschrijving: Haal alle parkeeerplaatsen op                  │
└──────────────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────────────┐
│ GET /parking-lots/1                                             │
│ ✅ Status: 200 OK                                               │
│ 💬 Response: Specifieke parking lot gegevens                    │
│ 🌐 Toegang: Publiek (geen token vereist)                        │
│ 📝 Beschrijving: Haal specifieke parkeerplaats op               │
└──────────────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────────────┐
│ POST /parking-lots                                              │
│ ❌ Status: 403 Forbidden                                        │
│ 💬 Error: "Access denied"                                       │
│ 🔒 Vereist: Admin rechten                                       │
│ 📝 Beschrijving: Maak nieuwe parkeerplaats (alleen admin)       │
└──────────────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────────────┐
│ PUT /parking-lots/1                                             │
│ ❌ Status: 403 Forbidden                                        │
│ 💬 Error: "Access denied"                                       │
│ 🔒 Vereist: Admin rechten                                       │
│ 📝 Beschrijving: Update parkeerplaats (alleen admin)            │
└──────────────────────────────────────────────────────────────────┘

### 🚗 VEHICLES ENDPOINTS
┌──────────────────────────────────────────────────────────────────┐
│ GET /vehicles                                                    │
│ ✅ Status: 200 OK                                               │
│ 💬 Response: Lijst van gebruiker's voertuigen                   │
│ 🔒 Vereist: Authorization token                                 │
│ 📝 Beschrijving: Haal mijn voertuigen op                        │
└──────────────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────────────┐
│ GET /vehicles (Zonder token)                                    │
│ ❌ Status: 401 Unauthorized                                     │
│ 💬 Error: "Unauthorized: Invalid or missing session token"     │
│ 📝 Beschrijving: Toegang geweigerd zonder authenticatie         │
└──────────────────────────────────────────────────────────────────┘

⚠️ NOTA: Sommige vehicle endpoints hadden verbindingsproblemen tijdens test

### ⏱️ PARKING SESSIONS ENDPOINTS
┌──────────────────────────────────────────────────────────────────┐
│ POST /parking-lots/1/sessions/start                             │
│ ✅ Status: 200 OK                                               │
│ 💬 Message: Parkeersessie gestart                               │
│ 🔒 Vereist: Authorization token                                 │
│ 📝 Beschrijving: Start nieuwe parkeersessie                     │
└──────────────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────────────┐
│ POST /parking-lots/1/sessions/stop                              │
│ ✅ Status: 200 OK                                               │
│ 💬 Message: Parkeersessie gestopt                               │
│ 🔒 Vereist: Authorization token                                 │
│ 📝 Beschrijving: Stop actieve parkeersessie                     │
└──────────────────────────────────────────────────────────────────┘

### 📅 RESERVATIONS ENDPOINTS
┌──────────────────────────────────────────────────────────────────┐
│ GET /reservations/1                                             │
│ ❌ Status: 404 Not Found                                        │
│ 💬 Error: "Reservation not found"                               │
│ 🔒 Vereist: Authorization token                                 │
│ 📝 Beschrijving: Reservatie niet gevonden                       │
└──────────────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────────────┐
│ PUT /reservations/1                                             │
│ ❌ Status: 404 Not Found                                        │
│ 💬 Error: "Reservation not found"                               │
│ 🔒 Vereist: Authorization token                                 │
│ 📝 Beschrijving: Update niet-bestaande reservatie               │
└──────────────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────────────┐
│ DELETE /reservations/1                                          │
│ ❌ Status: 404 Not Found                                        │
│ 💬 Error: "Reservation not found"                               │
│ 🔒 Vereist: Authorization token                                 │
│ 📝 Beschrijving: Verwijder niet-bestaande reservatie            │
└──────────────────────────────────────────────────────────────────┘

### 💳 PAYMENTS ENDPOINTS
┌──────────────────────────────────────────────────────────────────┐
│ POST /payments/refund                                           │
│ ❌ Status: 403 Forbidden                                        │
│ 💬 Error: "Access denied"                                       │
│ 🔒 Vereist: Admin rechten                                       │
│ 📝 Beschrijving: Maak refund (alleen admin)                     │
└──────────────────────────────────────────────────────────────────┘

⚠️ NOTA: Meeste payment endpoints hadden verbindingsproblemen tijdens test

### 🧾 BILLING ENDPOINTS
┌──────────────────────────────────────────────────────────────────┐
│ GET /billing                                                     │
│ ✅ Status: 200 OK                                               │
│ 💬 Response: Gebruiker's factuurgegevens                        │
│ 🔒 Vereist: Authorization token                                 │
│ 📝 Beschrijving: Haal mijn factuurgegevens op                   │
└──────────────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────────────┐
│ GET /billing/testuser123                                        │
│ ❌ Status: 403 Forbidden                                        │
│ 💬 Error: "Access denied"                                       │
│ 🔒 Vereist: Admin rechten                                       │
│ 📝 Beschrijving: Haal gebruiker's facturen op (alleen admin)    │
└──────────────────────────────────────────────────────────────────┘

========================================================

## 📈 STATISTIEKEN

✅ **Werkende Endpoints:** 15/37 (40.5%)
❌ **Endpoints met Errors:** 12/37 (32.4%)  
🔒 **Endpoints met Toegangsbeperkingen:** 10/37 (27.1%)

## 🔍 BELANGRIJKSTE BEVINDINGEN

### ✅ Goed Werkende Functionaliteit:
- Gebruikersregistratie en authenticatie
- Profiel management
- Publieke parking lots weergave
- Basis parkeersessies
- Billing overzicht
- Logout functionaliteit

### ❌ Problemen Gevonden:
- Sommige endpoints hebben verbindingsproblemen
- Admin functies zijn correct beveiligd
- 404 errors voor niet-bestaande resources
- Juiste autorisatie controles

### 🔒 Beveiligingsaspecten:
- Tokens zijn vereist voor beschermde endpoints
- Admin rechten worden correct gecontroleerd
- Unauthorized toegang wordt geblokkeerd
- Foutmeldingen zijn duidelijk

========================================================

**Conclusie:** De API heeft een solide basis met goede authenticatie en autorisatie. Sommige endpoints hebben verbindingsproblemen die nader onderzocht moeten worden.

**Datum:** 2025-09-10
**Geteste Server:** http://localhost:8000
